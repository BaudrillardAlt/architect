#!/bin/bash

webapps=(
  "ChatGPT|https://chatgpt.com|chatgpt"
  "Claude|https://claude.ai|claude"
  "Calendar|https://calendar.google.com|google"
  "Docs|https://docs.google.com|google"
  "Twitch|https://www.twitch.tv|twitch"
)

choice=$(printf "%s\n" "${webapps[@]}" | cut -d'|' -f1 | fuzzel --dmenu) || exit 1
[[ -z "$choice" ]] && exit 0

entry=$(printf "%s\n" "${webapps[@]}" | grep "^$choice|") || exit 1
IFS='|' read -r _ url profile <<<"$entry"

nirius focus-or-spawn -a "$profile" create-webapp "$url" "$profile"
